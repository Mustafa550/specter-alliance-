<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ VDS Bot Sistemi - Ger√ßek G√ºvenlik</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js"></script>
    <style>
        :root {
            --primary: #00ff88;
            --secondary: #ffffff;
            --dark: #0a0a0a;
            --darker: #000000;
            --danger: #ff0000;
            --warning: #ff9900;
            --success: #00ff00;
            --info: #0099ff;
            --premium: #ffd700;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }

        body {
            background: var(--darker);
            color: var(--secondary);
            min-height: 100vh;
            overflow-x: hidden;
            font-size: 14px;
        }

        /* G√ºvenlik Katmanƒ± */
        .security-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 9999;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            backdrop-filter: blur(20px);
        }

        .security-alert {
            background: rgba(255, 0, 0, 0.2);
            border: 3px solid var(--danger);
            border-radius: 10px;
            padding: 30px;
            max-width: 600px;
            text-align: center;
            animation: pulse-red 1s infinite;
        }

        @keyframes pulse-red {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.5); }
            50% { box-shadow: 0 0 40px rgba(255, 0, 0, 0.8); }
        }

        /* Login Panel */
        .login-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #000428, #004e92);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .login-box {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--primary);
            border-radius: 10px;
            padding: 40px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 0 50px rgba(0, 255, 136, 0.5);
        }

        .login-title {
            text-align: center;
            color: var(--primary);
            font-size: 24px;
            margin-bottom: 30px;
            font-weight: bold;
        }

        .login-input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--primary);
            border-radius: 5px;
            color: white;
            font-size: 16px;
            letter-spacing: 2px;
        }

        .login-input:focus {
            outline: none;
            box-shadow: 0 0 10px var(--primary);
        }

        .login-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, var(--primary), #00cc88);
            border: none;
            border-radius: 5px;
            color: black;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }

        .login-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px var(--primary);
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: none;
        }

        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.9);
            border-bottom: 2px solid var(--primary);
            padding: 15px 0;
            margin-bottom: 20px;
            position: relative;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            animation: scan 2s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .logo {
            text-align: center;
            margin-bottom: 10px;
        }

        .logo h1 {
            color: var(--primary);
            font-size: 28px;
            text-shadow: 0 0 10px var(--primary);
        }

        .security-status {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .status-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--primary);
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 12px;
        }

        /* Content */
        .content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .panel {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid var(--primary);
            border-radius: 5px;
            padding: 20px;
            position: relative;
        }

        .panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(0, 255, 136, 0.05) 50%, transparent 70%);
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .panel-title {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 1px solid var(--primary);
            padding-bottom: 5px;
        }

        /* File Upload */
        .upload-area {
            border: 2px dashed var(--primary);
            border-radius: 5px;
            padding: 30px;
            text-align: center;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(0, 255, 136, 0.05);
        }

        .upload-area:hover {
            background: rgba(0, 255, 136, 0.1);
            border-color: #00ffcc;
        }

        /* Inputs */
        .input-field {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--primary);
            border-radius: 3px;
            color: white;
            font-size: 14px;
        }

        /* Buttons */
        .btn {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border: none;
            border-radius: 3px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-primary {
            background: var(--primary);
            color: black;
        }

        .btn-primary:hover {
            background: #00cc88;
            box-shadow: 0 0 10px var(--primary);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #cc0000;
            box-shadow: 0 0 10px var(--danger);
        }

        .btn-premium {
            background: var(--premium);
            color: black;
        }

        /* Admin Panel */
        .admin-panel {
            position: fixed;
            top: 0;
            right: -500px;
            width: 500px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            border-left: 2px solid var(--primary);
            z-index: 1000;
            transition: right 0.3s;
            overflow-y: auto;
            padding: 20px;
        }

        .admin-panel.active {
            right: 0;
        }

        .admin-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 3px;
            padding: 5px 10px;
            cursor: pointer;
        }

        /* Tables */
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 12px;
        }

        .table th, .table td {
            border: 1px solid var(--primary);
            padding: 8px;
            text-align: left;
        }

        .table th {
            background: rgba(0, 255, 136, 0.2);
            color: var(--primary);
        }

        .table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Alerts */
        .alert {
            padding: 15px;
            margin: 10px 0;
            border-radius: 3px;
            border-left: 5px solid;
            background: rgba(255, 255, 255, 0.05);
        }

        .alert-danger {
            border-color: var(--danger);
            color: var(--danger);
        }

        .alert-success {
            border-color: var(--success);
            color: var(--success);
        }

        .alert-warning {
            border-color: var(--warning);
            color: var(--warning);
        }

        /* Loading */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(0, 255, 136, 0.3);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Logs */
        .logs {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid var(--primary);
            border-radius: 3px;
            padding: 10px;
            margin: 10px 0;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 11px;
        }

        .log-item {
            margin: 5px 0;
            padding: 3px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .log-time {
            color: var(--primary);
        }

        .log-error {
            color: var(--danger);
        }

        .log-success {
            color: var(--success);
        }

        .log-warning {
            color: var(--warning);
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            border-top: 1px solid var(--primary);
            color: rgba(255, 255, 255, 0.5);
            font-size: 12px;
        }

        /* Hidden Elements */
        .hidden {
            display: none !important;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .admin-panel {
                width: 100%;
                right: -100%;
            }
            
            .content {
                grid-template-columns: 1fr;
            }
            
            .security-status {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <!-- Login Panel -->
    <div id="loginPanel" class="login-panel">
        <div class="login-box">
            <div class="login-title">
                <i class="fas fa-shield-alt"></i> VDS BOT Sƒ∞STEMƒ∞
            </div>
            <input type="password" id="passwordInput" class="login-input" placeholder="≈ûifre" autocomplete="off">
            <button onclick="login()" class="login-btn">
                <i class="fas fa-lock"></i> Gƒ∞Rƒ∞≈û YAP
            </button>
            <div id="loginError" class="alert alert-danger hidden" style="margin-top: 10px;">
                ‚ùå Hatalƒ± ≈üifre!
            </div>
        </div>
    </div>

    <!-- Security Overlay -->
    <div id="securityOverlay" class="security-overlay">
        <div class="security-alert">
            <h2><i class="fas fa-skull-crossbones"></i> G√úVENLƒ∞K ƒ∞HLALƒ∞ TESPƒ∞T EDƒ∞LDƒ∞!</h2>
            <p style="margin: 20px 0; color: #ff4444; font-size: 18px;">
                ‚ö†Ô∏è <strong>RAT DOSYASI TESPƒ∞T EDƒ∞LDƒ∞!</strong>
            </p>
            <p>IP ADRESƒ∞Nƒ∞Z KAYDEDƒ∞LDƒ∞ VE BANLANDI!</p>
            <p style="margin-top: 20px; color: #cccccc;">
                Sistem Y√∂neticisine Bildirildi<br>
                ID: <span id="banId">-</span>
            </p>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading">
        <div class="spinner"></div>
        <div id="loadingText">G√ºvenlik Kontrol√º Yapƒ±lƒ±yor...</div>
    </div>

    <!-- Main Container -->
    <div id="mainContainer" class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <h1><i class="fas fa-robot"></i> VDS BOT Sƒ∞STEMƒ∞</h1>
            </div>
            <div class="security-status">
                <div class="status-item">
                    <i class="fas fa-shield-alt"></i> G√úVENLƒ∞K: <span id="securityLevel">üî¥ MAXIMUM</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-user"></i> DURUM: <span id="userStatus">√úCRETSƒ∞Z</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-robot"></i> BOT: <span id="botCount">0/1</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-id-card"></i> ID: <span id="userId">-</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-network-wired"></i> IP: <span id="userIp">Y√ºkleniyor...</span>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="admin-panel">
            <button class="admin-close" onclick="toggleAdminPanel()">√ó</button>
            <h2 class="panel-title"><i class="fas fa-user-shield"></i> ADMIN PANELƒ∞</h2>
            
            <div class="panel">
                <h3><i class="fas fa-ban"></i> BANLI KULLANICILAR</h3>
                <div class="logs" id="bannedUsersList">
                    Y√ºkleniyor...
                </div>
                <button class="btn btn-danger" onclick="clearBans()">T√ºm√ºn√º Temizle</button>
            </div>

            <div class="panel">
                <h3><i class="fas fa-file-code"></i> TESPƒ∞T EDƒ∞LEN RAT DOSYALARI</h3>
                <div class="logs" id="ratFilesList">
                    Y√ºkleniyor...
                </div>
            </div>

            <div class="panel">
                <h3><i class="fas fa-history"></i> Sƒ∞STEM LOGLARI</h3>
                <div class="logs" id="systemLogs">
                    Y√ºkleniyor...
                </div>
                <button class="btn" onclick="clearLogs()">Loglarƒ± Temizle</button>
            </div>

            <div class="panel">
                <h3><i class="fas fa-cogs"></i> Sƒ∞STEM KONTROLLERƒ∞</h3>
                <button class="btn btn-danger" onclick="emergencyShutdown()">Acil Kapatma</button>
                <button class="btn" onclick="exportLogs()">Loglarƒ± ƒ∞ndir</button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="content">
            <!-- File Upload Panel -->
            <div class="panel">
                <h2 class="panel-title"><i class="fas fa-upload"></i> DOSYA Y√úKLEME</h2>
                <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                    <i class="fas fa-file-code fa-3x" style="color: var(--primary); margin-bottom: 10px;"></i>
                    <h3>Python Dosyasƒ± Y√ºkleyin</h3>
                    <p>Sadece .py uzantƒ±lƒ± dosyalar</p>
                    <p class="alert alert-warning" style="margin-top: 10px;">
                        <i class="fas fa-exclamation-triangle"></i> RAT dosyasƒ± y√ºkleyenler IP BAN yer!
                    </p>
                </div>
                <input type="file" id="fileInput" accept=".py" class="hidden">
                
                <div id="fileInfo" class="hidden">
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle"></i> <span id="fileName"></span>
                    </div>
                </div>

                <div id="tokenSection" class="hidden">
                    <input type="text" id="tokenInput" class="input-field" placeholder="Bot Token: 1234567890:ABCdefGHIjklMnOpQRstUvWxYz">
                    <button class="btn btn-primary" onclick="startBot()">
                        <i class="fas fa-play"></i> BOT'U BA≈ûLAT
                    </button>
                </div>
            </div>

            <!-- Bot Control Panel -->
            <div class="panel">
                <h2 class="panel-title"><i class="fas fa-cogs"></i> BOT KONTROLLERƒ∞</h2>
                <button class="btn btn-primary" onclick="showMyBots()">
                    <i class="fas fa-list"></i> BOTLARIMI G√ñSTER
                </button>
                <button class="btn btn-danger" onclick="stopAllBots()">
                    <i class="fas fa-stop"></i> T√úM BOTLARI DURDUR
                </button>
                <button class="btn" onclick="showStats()">
                    <i class="fas fa-chart-bar"></i> ƒ∞STATƒ∞STƒ∞KLER
                </button>
                <button class="btn btn-premium" onclick="buyPremium()">
                    <i class="fas fa-crown"></i> PREMIUM AL
                </button>
                <button id="adminBtn" class="btn" onclick="toggleAdminPanel()" style="display: none;">
                    <i class="fas fa-user-secret"></i> ADMIN
                </button>
            </div>

            <!-- My Bots Panel -->
            <div class="panel" id="myBotsPanel" style="display: none;">
                <h2 class="panel-title"><i class="fas fa-robot"></i> AKTƒ∞F BOTLARIM</h2>
                <div id="botList">
                    <div class="alert alert-warning">
                        <i class="fas fa-info-circle"></i> Hen√ºz aktif botunuz yok.
                    </div>
                </div>
            </div>

            <!-- Statistics Panel -->
            <div class="panel" id="statsPanel" style="display: none;">
                <h2 class="panel-title"><i class="fas fa-chart-line"></i> Sƒ∞STEM ƒ∞STATƒ∞STƒ∞KLERƒ∞</h2>
                <table class="table">
                    <tr>
                        <td>Toplam Kullanƒ±cƒ±:</td>
                        <td id="statTotalUsers">0</td>
                    </tr>
                    <tr>
                        <td>Toplam Bot:</td>
                        <td id="statTotalBots">0</td>
                    </tr>
                    <tr>
                        <td>G√ºvenlik Taramasƒ±:</td>
                        <td id="statSecurityScans">0</td>
                    </tr>
                          <tr>
                        <td>Banlƒ± Kullanƒ±cƒ±:</td>
                        <td id="statBannedUsers">0</td>
                    </tr>
                    <tr>
                        <td>RAT Tespiti:</td>
                        <td id="statRatDetected">0</td>
                    </tr>
                    <tr>
                        <td>Sistem √áalƒ±≈üma S√ºresi:</td>
                        <td id="statUptime">0s</td>
                    </tr>
                </table>
            </div>

            <!-- Security Logs -->
            <div class="panel">
                <h2 class="panel-title"><i class="fas fa-clipboard-list"></i> G√úVENLƒ∞K LOGLARI</h2>
                <div class="logs" id="securityLogs">
                    Sistem ba≈ülatƒ±lƒ±yor...
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>üöÄ VDS BOT Sƒ∞STEMƒ∞ - Ger√ßek Zamanlƒ± G√ºvenlik | ¬© 2024</p>
            <p style="margin-top: 5px; color: var(--primary);">
                <i class="fas fa-shield-alt"></i> RAT KORUMASI AKTƒ∞F | IP BAN Sƒ∞STEMƒ∞ AKTƒ∞F
            </p>
        </div>
    </div>

    <script>
        // ==================== ≈ûƒ∞FRELEME Sƒ∞STEMƒ∞ ====================
        const SECRET_KEY = 'VDS_BOT_SECURE_SYSTEM_2024';
        
        function encrypt(text) {
            return CryptoJS.AES.encrypt(text, SECRET_KEY).toString();
        }
        
        function decrypt(ciphertext) {
            try {
                const bytes = CryptoJS.AES.decrypt(ciphertext, SECRET_KEY);
                return bytes.toString(CryptoJS.enc.Utf8);
            } catch {
                return null;
            }
        }
        
        // ==================== G√úVENLƒ∞K Sƒ∞STEMƒ∞ ====================
        const RAT_PATTERNS = [
            'exec(', 'eval(', 'compile(', '__import__(', 'os.system', 'subprocess',
            'base64.b64decode', 'marshal.loads', 'pickle.loads', 'shutil.',
            'ctypes.', 'pynput', 'keyboard', 'pyautogui', 'psutil',
            'socket.socket', 'requests.', 'urllib.request', 'http.server',
            'while True:', 'while 1:', 'import os,', 'import sys,',
            'import subprocess', 'import threading', 'import multiprocessing',
            'signal.signal', 'atexit.register', '__builtins__', '__file__',
            'open(', 'write(', 'read(', 'remove(', 'rmdir(', 'chmod(',
            'getpass', 'platform.', 'sys.', 'os.environ', 'os.getenv',
            'keylogger', 'screenshot', 'spyware', 'malware', 'trojan',
            'backdoor', 'reverse_shell', 'bind_shell', 'cmd.exe', '/bin/bash',
            'shell=True', 'Popen', 'call(', 'run(', 'check_output('
        ];
        
        // ==================== VERƒ∞ DEPOLAMA ====================
        let systemData = {
            users: {},
            bots: {},
            bannedIPs: {},
            ratFiles: {},
            logs: [],
            stats: {
                totalUsers: 0,
                totalBots: 0,
                securityScans: 0,
                bannedUsers: 0,
                ratDetected: 0,
                startTime: Date.now()
            },
            settings: {
                adminPassword: 'sirin31',
                maxFreeBots: 1,
                maxPremiumBots: 5,
                securityLevel: 'maximum'
            }
        };
        
        let currentUser = {
            id: null,
            username: 'Guest',
            ip: null,
            isPremium: false,
            isAdmin: false,
            botCount: 0,
            uploadedFile: null,
            sessionId: null
        };
        
        let userBots = [];
        
        // ==================== BA≈ûLANGI√á ====================
        document.addEventListener('DOMContentLoaded', async () => {
            await initializeSystem();
        });
        
        async function initializeSystem() {
            // IP adresini al
            await getUserIP();
            
            // Verileri y√ºkle
            loadData();
            
            // G√ºvenlik kontrol√º
            await securityCheck();
            
            // Kullanƒ±cƒ± ID olu≈ütur
            currentUser.id = generateUserId();
            currentUser.sessionId = generateSessionId();
            
            // UI'ƒ± g√ºncelle
            updateUI();
            addLog('Sistem ba≈ülatƒ±ldƒ±', 'success');
            addLog(`Kullanƒ±cƒ± ID: ${currentUser.id}`, 'info');
            addLog(`IP: ${currentUser.ip}`, 'info');
        }
        
        // ==================== IP Y√ñNETƒ∞Mƒ∞ ====================
        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                currentUser.ip = data.ip;
                document.getElementById('userIp').textContent = currentUser.ip;
                
                // IP ban kontrol√º
                if (systemData.bannedIPs[currentUser.ip]) {
                    showBanScreen(currentUser.ip);
                    return false;
                }
                return true;
            } catch {
                // Fallback IP
                currentUser.ip = '192.168.' + Math.floor(Math.random() * 255) + '.' + Math.floor(Math.random() * 255);
                document.getElementById('userIp').textContent = currentUser.ip;
                return true;
            }
        }
        
        function banIP(ip, reason) {
            const banId = 'BAN_' + Date.now();
            systemData.bannedIPs[ip] = {
                id: banId,
                ip: ip,
                reason: reason,
                timestamp: Date.now(),
                userId: currentUser.id,
                username: currentUser.username
            };
            
            systemData.stats.bannedUsers++;
            saveData();
            
            addLog(`IP BAN: ${ip} - Sebep: ${reason}`, 'error');
            showBanScreen(ip);
            return banId;
        }
        
        function showBanScreen(ip) {
            document.getElementById('banId').textContent = systemData.bannedIPs[ip]?.id || 'UNKNOWN';
            document.getElementById('securityOverlay').style.display = 'flex';
            
            // Admin'e bildir
            if (systemData.settings.adminPassword) {
                addLog(`[ADMIN UYARI] IP BAN: ${ip}`, 'warning');
            }
        }
        
        // ==================== RAT TARAMA ====================
        function scanForRAT(fileContent, fileName) {
            const threats = [];
            let threatLevel = 0;
            
            // Pattern taramasƒ±
            for (const pattern of RAT_PATTERNS) {
                if (fileContent.includes(pattern)) {
                    threats.push(pattern);
                    threatLevel++;
                }
            }
            
            // Tehlikeli import taramasƒ±
            const dangerousImports = ['import os', 'import sys', 'import subprocess', 'from os import', 'from sys import'];
            for (const imp of dangerousImports) {
                if (fileContent.includes(imp)) {
                    threatLevel++;
                }
            }
            
            // Kod uzunluƒüu kontrol√º
            if (fileContent.length > 10000) {
                threatLevel++;
            }
            
            // Sonu√ß
            if (threatLevel > 0) {
                const ratId = 'RAT_' + Date.now();
                systemData.ratFiles[ratId] = {
                    id: ratId,
                    fileName: fileName,
                    threats: threats,
                    threatLevel: threatLevel,
                    userId: currentUser.id,
                    ip: currentUser.ip,
                    timestamp: Date.now(),
                    contentPreview: fileContent.substring(0, 500) + '...'
                };
                
                systemData.stats.ratDetected++;
                saveData();
                
                // IP BAN
                const banId = banIP(currentUser.ip, `RAT dosyasƒ±: ${fileName}`);
                
                // Log
                addLog(`RAT TESPƒ∞T! Dosya: ${fileName}, Tehdit Seviyesi: ${threatLevel}`, 'error');
                addLog(`Tehditler: ${threats.join(', ')}`, 'error');
                
                return {
                    isRat: true,
                    threats: threats,
                    threatLevel: threatLevel,
                    banId: banId,
                    ratId: ratId
                };
            }
            
            return { isRat: false, threats: [] };
        }
        
        // ==================== DOSYA ƒ∞≈ûLEMLERƒ∞ ====================
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                handleFileUpload(file);
            }
        });
        
        function handleFileUpload(file) {
            if (!file.name.endsWith('.py')) {
                showAlert('Sadece .py dosyalarƒ± y√ºkleyebilirsiniz!', 'danger');
                return;
            }
            
            if (currentUser.botCount >= (currentUser.isPremium ? 5 : 1)) {
                showAlert('Bot limitiniz doldu!', 'danger');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const content = e.target.result;
                
                // RAT taramasƒ±
                const scanResult = scanForRAT(content, file.name);
                
                if (scanResult.isRat) {
                    // RAT tespit edildi, IP ban atƒ±ldƒ±
                    return;
                }
                
                // G√ºvenli dosya
                currentUser.uploadedFile = {
                    name: file.name,
                    size: file.size,
                    content: content.substring(0, 1000), // ƒ∞lk 1000 karakter
                    timestamp: Date.now()
                };
                
                // UI g√ºncelle
                document.getElementById('fileInfo').classList.remove('hidden');
                document.getElementById('fileName').textContent = `‚úÖ ${file.name} y√ºklendi`;
                document.getElementById('tokenSection').classList.remove('hidden');
                
                systemData.stats.securityScans++;
                addLog(`G√ºvenli dosya: ${file.name}`, 'success');
                updateStats();
                saveData();
            };
            
            reader.readAsText(file);
        }
        
               // ==================== BOT ƒ∞≈ûLEMLERƒ∞ ====================
        function startBot() {
            const token = document.getElementById('tokenInput').value.trim();
            
            if (!token || !token.includes(':')) {
                showAlert('Ge√ßersiz token formatƒ±!', 'danger');
                return;
            }
            
            if (!currentUser.uploadedFile) {
                showAlert('√ñnce dosya y√ºkleyin!', 'danger');
                return;
            }
            
            if (currentUser.botCount >= (currentUser.isPremium ? 5 : 1)) {
                showAlert('Bot limitiniz doldu!', 'danger');
                return;
            }
            
            // Bot olu≈ütur
            const botId = 'BOT_' + Date.now();
            const bot = {
                id: botId,
                name: currentUser.uploadedFile.name.replace('.py', ''),
                token: token.substring(0, 12) + '...',
                startedAt: Date.now(),
                status: 'running',
                userId: currentUser.id
            };
            
            userBots.push(bot);
            systemData.bots[botId] = bot;
            currentUser.botCount++;
            systemData.stats.totalBots++;
            
            // UI g√ºncelle
            document.getElementById('tokenInput').value = '';
            document.getElementById('fileInfo').classList.add('hidden');
            document.getElementById('tokenSection').classList.add('hidden');
            
            addLog(`Bot ba≈ülatƒ±ldƒ±: ${bot.name} (${botId})`, 'success');
            updateUI();
            updateStats();
            saveData();
            
            showAlert(`Bot ba≈üarƒ±yla ba≈ülatƒ±ldƒ±! ID: ${botId}`, 'success');
        }
        
        function showMyBots() {
            const botList = document.getElementById('botList');
            const myBotsPanel = document.getElementById('myBotsPanel');
            const statsPanel = document.getElementById('statsPanel');
            
            statsPanel.style.display = 'none';
            myBotsPanel.style.display = 'block';
            
            if (userBots.length === 0) {
                botList.innerHTML = '<div class="alert alert-warning"><i class="fas fa-info-circle"></i> Hen√ºz aktif botunuz yok.</div>';
                return;
            }
            
            let html = '';
            userBots.forEach(bot => {
                const uptime = Math.floor((Date.now() - bot.startedAt) / 1000);
                const hours = Math.floor(uptime / 3600);
                const minutes = Math.floor((uptime % 3600) / 60);
                const seconds = uptime % 60;
                
                html += `
                    <div class="alert" style="background: rgba(0,255,136,0.1);">
                        <strong>${bot.name}</strong><br>
                        <small>ID: ${bot.id}</small><br>
                        <small>Token: ${bot.token}</small><br>
                        <small>Durum: üü¢ √áalƒ±≈üƒ±yor</small><br>
                        <small>S√ºre: ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}</small>
                    </div>
                `;
            });
            
            botList.innerHTML = html;
        }
        
        function stopAllBots() {
            if (userBots.length === 0) {
                showAlert('Durdurulacak bot yok!', 'warning');
                return;
            }
            
            if (!confirm(`${userBots.length} botunuzu durdurmak istediƒüinize emin misiniz?`)) {
                return;
            }
            
            const count = userBots.length;
            userBots.forEach(bot => {
                bot.status = 'stopped';
                systemData.stats.totalBots--;
            });
            
            userBots = [];
            currentUser.botCount = 0;
            
            addLog(`${count} bot durduruldu`, 'warning');
            updateUI();
            updateStats();
            saveData();
            
            showAlert(`${count} bot durduruldu!`, 'success');
        }
        
        // ==================== ADMIN Sƒ∞STEMƒ∞ ====================
        function login() {
            const password = document.getElementById('passwordInput').value;
            const errorDiv = document.getElementById('loginError');
            
            if (password === systemData.settings.adminPassword) {
                currentUser.isAdmin = true;
                document.getElementById('loginPanel').style.display = 'none';
                document.getElementById('mainContainer').style.display = 'block';
                document.getElementById('adminBtn').style.display = 'block';
                
                addLog('Admin giri≈üi yapƒ±ldƒ±', 'success');
                updateAdminPanel();
            } else {
                errorDiv.classList.remove('hidden');
                setTimeout(() => errorDiv.classList.add('hidden'), 3000);
            }
        }
        
        function toggleAdminPanel() {
            if (!currentUser.isAdmin) return;
            
            const panel = document.getElementById('adminPanel');
            panel.classList.toggle('active');
            updateAdminPanel();
        }
        
        function updateAdminPanel() {
            // Banlƒ± kullanƒ±cƒ±lar
            const bannedList = document.getElementById('bannedUsersList');
            let bannedHtml = '';
            Object.values(systemData.bannedIPs).forEach(ban => {
                bannedHtml += `
                    <div class="log-item">
                        <span class="log-time">${new Date(ban.timestamp).toLocaleTimeString()}</span>
                        <span class="log-error"> IP: ${ban.ip}</span><br>
                        <small>Sebep: ${ban.reason}</small><br>
                        <small>ID: ${ban.id}</small>
                    </div>
                `;
            });
            bannedList.innerHTML = bannedHtml || 'Banlƒ± kullanƒ±cƒ± yok';
            
            // RAT dosyalarƒ±
            const ratList = document.getElementById('ratFilesList');
            let ratHtml = '';
            Object.values(systemData.ratFiles).forEach(rat => {
                ratHtml += `
                    <div class="log-item">
                        <span class="log-time">${new Date(rat.timestamp).toLocaleTimeString()}</span>
                        <span class="log-error"> ${rat.fileName}</span><br>
                        <small>IP: ${rat.ip}</small><br>
                        <small>Tehdit: ${rat.threatLevel} seviye</small>
                    </div>
                `;
            });
            ratFilesList.innerHTML = ratHtml || 'RAT dosyasƒ± yok';
            
            // Sistem loglarƒ±
            const logsList = document.getElementById('systemLogs');
            let logsHtml = '';
            systemData.logs.slice(-20).forEach(log => {
                logsHtml += `
                    <div class="log-item">
                        <span class="log-time">${new Date(log.time).toLocaleTimeString()}</span>
                        <span class="log-${log.type}"> ${log.message}</span>
                    </div>
                `;
            });
            systemLogs.innerHTML = logsHtml || 'Log yok';
        }
        
        function clearBans() {
            if (confirm('T√ºm banlarƒ± temizlemek istediƒüinize emin misiniz?')) {
                systemData.bannedIPs = {};
                systemData.stats.bannedUsers = 0;
                saveData();
                updateAdminPanel();
                addLog('T√ºm banlar temizlendi', 'warning');
            }
        }
        
        function clearLogs() {
            if (confirm('T√ºm loglarƒ± temizlemek istediƒüinize emin misiniz?')) {
                systemData.logs = [];
                saveData();
                updateAdminPanel();
                addLog('Loglar temizlendi', 'warning');
            }
        }
        
        function emergencyShutdown() {
            if (confirm('ACƒ∞L KAPATMA: T√ºm sistem durdurulacak! Emin misiniz?')) {
                userBots.forEach(bot => bot.status = 'emergency_stopped');
                userBots = [];
                currentUser.botCount = 0;
                
                addLog('ACƒ∞L KAPATMA AKTƒ∞F!', 'error');
                showAlert('Sistem acil kapatƒ±ldƒ±!', 'danger');
                updateUI();
                updateStats();
            }
        }
        
        function exportLogs() {
            const data = JSON.stringify(systemData.logs, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `vds_logs_${Date.now()}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // ==================== YARDIMCI FONKSƒ∞YONLAR ====================
        function addLog(message, type = 'info') {
            const log = {
                time: Date.now(),
                message: message,
                type: type,
                userId: currentUser.id,
                ip: currentUser.ip
            };
            
            systemData.logs.push(log);
            
            // UI'da g√∂ster
            const logsDiv = document.getElementById('securityLogs');
            const logItem = document.createElement('div');
            logItem.className = 'log-item';
            logItem.innerHTML = `
                <span class="log-time">${new Date(log.time).toLocaleTimeString()}</span>
                <span class="log-${type}"> ${message}</span>
            `;
            
            logsDiv.appendChild(logItem);
            logsDiv.scrollTop = logsDiv.scrollHeight;
            
            // Max 100 log tut
            if (systemData.logs.length > 100) {
                systemData.logs.shift();
            }
            
            saveData();
        }
        
        function showAlert(message, type = 'info') {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.innerHTML = `<i class="fas fa-${type === 'danger' ? 'exclamation-triangle' : 'info-circle'}"></i> ${message}`;
            
            document.querySelector('.content').prepend(alertDiv);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }
        
        function updateUI() {
            document.getElementById('userId').textContent = currentUser.id;
            document.getElementById('botCount').textContent = `${currentUser.botCount}/${currentUser.isPremium ? 5 : 1}`;
            document.getElementById('userStatus').textContent = currentUser.isPremium ? 'üíé PREMIUM' : 'üÜì √úCRETSƒ∞Z';
            document.getElementById('securityLevel').textContent = 'üî¥ MAXIMUM';
        }
        
        function updateStats() {
            document.getElementById('statTotalUsers').textContent = systemData.stats.totalUsers;
            document.getElementById('statTotalBots').textContent = systemData.stats.totalBots;
            document.getElementById('statSecurityScans').textContent = systemData.stats.securityScans;
            document.getElementById('statBannedUsers').textContent = systemData.stats.bannedUsers;
            document.getElementById('statRatDetected').textContent = systemData.stats.ratDetected;
            
            const uptime = Math.floor((Date.now() - systemData.stats.startTime) / 1000);
            const hours = Math.floor(uptime / 3600);
            const minutes = Math.floor((uptime % 3600) / 60);
            const seconds = uptime % 60;
            document.getElementById('statUptime').textContent = `${hours}h ${minutes}m ${seconds}s`;
        }
        
        function showStats() {
            document.getElementById('myBotsPanel').style.display = 'none';
            document.getElementById('statsPanel').style.display = 'block';
            updateStats();
        }
        
        function buyPremium() {
            showAlert('Premium satƒ±n almak i√ßin: @tahtin_sahibi', 'warning');
        }
        
        async function securityCheck() {
            // Tarayƒ±cƒ± parmak izi kontrol√º
            const fingerprint = await generateFingerprint();
            addLog(`Tarayƒ±cƒ± parmak izi: ${fingerprint.substring(0, 16)}...`, 'info');
        }
        
        function generateFingerprint() {
            const data = navigator.userAgent + navigator.language + screen.width + screen.height + screen.colorDepth;
            return CryptoJS.SHA256(data).toString();
        }
        
        function generateUserId() {
            return 'USER_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }
        
        function generateSessionId() {
            return 'SESS_' + Date.now() + '_' + Math.random().toString(36).substr(2, 12);
        }

          // ==================== VERƒ∞ DEPOLAMA ====================
        function saveData() {
            try {
                const encrypted = encrypt(JSON.stringify(systemData));
                localStorage.setItem('vds_system_data', encrypted);
            } catch (e) {
                console.error('Veri kaydetme hatasƒ±:', e);
            }
        }
        
        function loadData() {
            try {
                const saved = localStorage.getItem('vds_system_data');
                if (saved) {
                    const decrypted = decrypt(saved);
                    if (decrypted) {
                        systemData = JSON.parse(decrypted);
                    }
                }
            } catch (e) {
                console.error('Veri y√ºkleme hatasƒ±:', e);
            }
        }
        
        // ==================== OTOMATƒ∞K KAYIT ====================
        setInterval(saveData, 30000); // 30 saniyede bir kaydet
        setInterval(updateStats, 10000); // 10 saniyede bir g√ºncelle
        
        // ==================== BOT UPTIME G√úNCELLEME ====================
        setInterval(() => {
            userBots.forEach(bot => {
                // Bot uptime g√ºncellemesi
                if (bot.status === 'running') {
                    // Her 60 saniyede bir log
                    const uptime = Date.now() - bot.startedAt;
                    if (uptime % 60000 < 1000) {
                        addLog(`Bot ${bot.name} √ßalƒ±≈üƒ±yor (${Math.floor(uptime/60000)} dakika)`, 'info');
                    }
                }
            });
        }, 1000);
    </script>
</body>
</html>