<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AlÄ±m-SatÄ±m Site</title>
<style>
  /* Temel renkler ve genel yapÄ± */
  body {
    margin: 0; padding: 0;
    background: #0b0f0b;
    color: #b7f098;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    overflow-x: hidden;
  }
  a { color: #b7f098; text-decoration: none; }
  a:hover { text-decoration: underline; }

  /* Ãœst bar sabit */
  header {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 60px;
    background: #122212;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    z-index: 9999;
    box-shadow: 0 2px 5px #080e08;
  }
  header h1 {
    font-weight: 700;
    font-size: 22px;
  }

  /* MenÃ¼ Ã¶ÄŸeleri: profil, sepet, giriÅŸ */
  .menu {
    display: flex;
    gap: 20px;
    align-items: center;
  }
  .menu button {
    background: #1b311b;
    border: none;
    color: #b7f098;
    padding: 8px 15px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s ease;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .menu button:hover {
    background: #2c4b2c;
  }
  .menu button:focus {
    outline: none;
    box-shadow: 0 0 8px #7ef27e;
  }
  .menu button img {
    width: 24px; height: 24px;
    border-radius: 50%;
  }

  /* AÃ§Ä±lÄ±r kutular */
  .dropdown {
    position: fixed;
    top: 60px;
    right: 20px;
    background: #122212;
    border: 1px solid #2c4b2c;
    border-radius: 10px;
    padding: 15px;
    width: 280px;
    max-height: 350px;
    overflow-y: auto;
    box-shadow: 0 4px 12px rgba(30,80,30,0.8);
    display: none;
    z-index: 9998;
  }

  /* Profil kutusu */
  #profileDropdown p {
    margin: 8px 0;
  }
  #profileDropdown strong {
    color: #8ef28e;
  }

  /* GiriÅŸ formu */
  #loginDropdown label {
    display: block;
    margin-top: 10px;
    font-weight: 600;
  }
  #loginDropdown input {
    width: 100%;
    padding: 7px 8px;
    margin-top: 4px;
    border-radius: 6px;
    border: 1px solid #2c4b2c;
    background: #0b0f0b;
    color: #b7f098;
  }
  #loginDropdown button {
    margin-top: 15px;
    width: 100%;
    background: #4caf50;
    border: none;
    padding: 10px;
    font-weight: 700;
    border-radius: 8px;
    cursor: pointer;
    color: #0b0f0b;
  }
  #loginDropdown button:hover {
    background: #6cdb6c;
  }

  /* ÃœrÃ¼nler grid */
  main {
    padding: 80px 20px 120px 20px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    max-width: 1200px;
    margin: 0 auto;
  }
  .product-card {
    background: #122212;
    border-radius: 14px;
    box-shadow: 0 3px 10px rgba(30,80,30,0.7);
    padding: 15px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    color: #b7f098;
    transition: transform 0.3s ease;
  }
  .product-card:hover {
    transform: scale(1.05);
  }
  .product-emoji {
    font-size: 40px;
    text-align: center;
  }
  .product-name {
    font-weight: 700;
    font-size: 20px;
    margin: 10px 0 6px 0;
    text-align: center;
  }
  .product-desc {
    font-size: 14px;
    color: #a2d3a2;
    min-height: 48px;
    text-align: center;
  }
  .product-price {
    margin-top: 10px;
    font-weight: 700;
    font-size: 18px;
    color: #80f080;
    text-align: center;
  }
  .add-cart-btn {
    margin-top: 12px;
    background: #267326;
    border: none;
    padding: 10px;
    font-weight: 700;
    color: #c4f5c4;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.25s ease;
    user-select: none;
  }
  .add-cart-btn:hover {
    background: #3ea63e;
  }

  /* Sepet kutusu */
  #cartDropdown {
    right: 320px;
    width: 320px;
    max-height: 400px;
    display: none;
    flex-direction: column;
  }
  #cartDropdown h3 {
    margin-top: 0;
    border-bottom: 1px solid #2c4b2c;
    padding-bottom: 8px;
  }
  .cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 8px 0;
    border-bottom: 1px solid #2c4b2c;
    padding-bottom: 6px;
  }
  .cart-item-name {
    font-weight: 600;
    color: #9ef49e;
  }
  .cart-item-price {
    font-weight: 700;
    color: #7cf07c;
  }
  .cart-item-qty {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .qty-btn {
    background: #2c4b2c;
    border: none;
    padding: 3px 8px;
    color: #b7f098;
    cursor: pointer;
    border-radius: 4px;
    font-weight: 700;
  }
  .qty-btn:hover {
    background: #4caf50;
  }
  #cartTotal {
    margin-top: 12px;
    font-weight: 700;
    font-size: 18px;
    text-align: right;
    color: #7cf07c;
  }
  #checkoutBtn {
    margin-top: 15px;
    width: 100%;
    background: #4caf50;
    border: none;
    padding: 10px;
    font-weight: 700;
    border-radius: 8px;
    cursor: pointer;
    color: #0b0f0b;
  }
  #checkoutBtn:hover {
    background: #6cdb6c;
  }

  /* ChatGPT kÃ¼Ã§Ã¼k kutu ve popup */
  #chatbotToggle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #267326;
    width: 50px; height: 50px;
    border-radius: 50%;
    box-shadow: 0 0 15px #3ea63e;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 28px;
    color: #0b0f0b;
    user-select: none;
    transition: background 0.3s ease;
    z-index: 99999;
  }
  #chatbotToggle:hover {
    background: #3ea63e;
  }
  #chatbotWindow {
    position: fixed;
    bottom: 80px;
    right: 20px;
    width: 320px;
    max-height: 450px;
    background: #122212;
    border-radius: 14px;
    box-shadow: 0 5px 20px rgba(30,80,30,0.9);
    display: none;
    flex-direction: column;
    z-index: 99998;
  }
  #chatbotHeader {
    padding: 10px
 #chatbotHeader {
    padding: 10px 15px;
    background: #1b311b;
    color: #b7f098;
    font-weight: 700;
    border-top-left-radius: 14px;
    border-top-right-radius: 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  #chatbotHeader button {
    background: transparent;
    border: none;
    color: #b7f098;
    font-size: 18px;
    cursor: pointer;
    font-weight: 700;
  }
  #chatbotMessages {
    flex: 1;
    overflow-y: auto;
    padding: 10px 15px;
    font-size: 14px;
    color: #d4f7d4;
  }
  .chatbotMessage {
    margin-bottom: 12px;
  }
  .chatbotMessage.user {
    text-align: right;
    color: #aef2a7;
  }
  .chatbotMessage.bot {
    text-align: left;
    color: #b7f098;
  }
  #chatbotInputArea {
    padding: 10px 15px;
    border-top: 1px solid #2c4b2c;
    display: flex;
    gap: 8px;
  }
  #chatbotInput {
    flex: 1;
    padding: 8px 10px;
    border-radius: 8px;
    border: 1px solid #2c4b2c;
    background: #0b0f0b;
    color: #b7f098;
    font-size: 14px;
  }
  #chatbotSendBtn {
    background: #4caf50;
    border: none;
    color: #0b0f0b;
    font-weight: 700;
    padding: 8px 15px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.25s ease;
  }
  #chatbotSendBtn:hover {
    background: #6cdb6c;
  }

  /* Scrollbar stilleri */
  ::-webkit-scrollbar {
    width: 8px;
  }
  ::-webkit-scrollbar-thumb {
    background: #3ea63e;
    border-radius: 4px;
  }
  ::-webkit-scrollbar-track {
    background: #122212;
  }

  /* Responsive */
  @media (max-width: 480px) {
    main {
      grid-template-columns: 1fr;
      padding: 80px 10px 100px 10px;
    }
    #cartDropdown {
      right: 10px;
      width: 280px;
    }
    #profileDropdown, #loginDropdown {
      width: 280px;
      right: 10px;
    }
    #chatbotWindow {
      width: 280px;
      right: 10px;
    }
  }
</style>
</head>
<body>

<header>
  <h1>YeÅŸil AlÄ±ÅŸveriÅŸ</h1>
  <div class="menu">
    <button id="profileBtn">
      <img src="https://i.pravatar.cc/40" alt="Avatar" />
      <span id="usernameDisplay">Misafir</span>
    </button>
    <button id="cartBtn">Sepet ðŸ›’ (<span id="cartCount">0</span>)</button>
    <button id="loginBtn">GiriÅŸ / KayÄ±t</button>
  </div>
</header>

<!-- Profil Dropdown -->
<div class="dropdown" id="profileDropdown">
  <p><strong>KullanÄ±cÄ± AdÄ±:</strong> <span id="profileUsername">Misafir</span></p>
  <p><strong>E-posta:</strong> <span id="profileEmail">-</span></p>
  <p><strong>Telefon:</strong> <span id="profilePhone">-</span></p>
  <button id="logoutBtn" style="background:#a94442; color:#fff; width:100%; margin-top:15px; cursor:pointer; border:none; border-radius:8px; padding:8px;">Ã‡Ä±kÄ±ÅŸ Yap</button>
</div>

<!-- Sepet Dropdown -->
<div class="dropdown" id="cartDropdown">
  <h3>Sepetiniz</h3>
  <div id="cartItemsContainer"></div>
  <p id="cartTotal">Toplam: 0 â‚º</p>
  <button id="checkoutBtn">Ã–deme YÃ¶ntemine GeÃ§</button>
</div>

<!-- GiriÅŸ/KayÄ±t Dropdown -->
<div class="dropdown" id="loginDropdown">
  <label for="loginUsername">KullanÄ±cÄ± AdÄ±</label>
  <input type="text" id="loginUsername" placeholder="KullanÄ±cÄ± adÄ± girin" />
  <label for="loginEmail">E-posta</label>
  <input type="email" id="loginEmail" placeholder="E-posta adresinizi girin" />
  <label for="loginPhone">Telefon NumarasÄ±</label>
  <input type="tel" id="loginPhone" placeholder="Ã–rn: 05551234567" />
  <button id="loginSubmitBtn">GiriÅŸ / KayÄ±t Ol</button>
</div>

<!-- ÃœrÃ¼nler -->
<main id="productsContainer"></main>

<!-- ChatGPT Toggle -->
<div id="chatbotToggle" title="Chatbot">&#128172;</div>

<!-- ChatGPT Window -->
<div id="chatbotWindow">
  <div id="chatbotHeader">
    ChatGPT
    <button id="chatbotCloseBtn" title="Kapat">&times;</button>
  </div>
  <div id="chatbotMessages"></div>
  <div id="chatbotInputArea">
    <input type="text" id="chatbotInput" placeholder="Bir ÅŸeyler yaz..." autocomplete="off" />
    <button id="chatbotSendBtn">GÃ¶nder</button>
  </div>
</div>

<script>
  // ÃœrÃ¼n verisi (emoji, isim, aÃ§Ä±klama ve fiyat)
  const products = [
    {id:1, emoji:"ðŸ", name:"YeÅŸil Elma ðŸ", desc:"Taze ve lezzetli yeÅŸil elma - kg baÅŸÄ±na", price:15},
    {id:2, emoji:"ðŸ¥’", name:"SalatalÄ±k ðŸ¥’", desc:"Organik salatalÄ±k, doÄŸal bahÃ§e Ã¼rÃ¼nÃ¼", price:8},
    {id:3, emoji:"ðŸ¥¦", name:"Brokoli ðŸ¥¦", desc:"Vitamin deposu taze brokoli", price:12},
    {id:4, emoji:"ðŸµ", name:"YeÅŸil Ã‡ay ðŸµ", desc:"SaÄŸlÄ±klÄ± ve doÄŸal yeÅŸil Ã§ay paketi", price:25},
    {id:5, emoji:"ðŸ§´", name:"DoÄŸal El Sabunu ðŸ§´", desc:"El yapÄ±mÄ± organik sabun", price:30},
    {id:6, emoji:"ðŸŒ¿", name:"Nane ðŸŒ¿", desc:"Taze nane demeti", price:5},
    {id:7, emoji:"ðŸ¥", name:"Kivi ðŸ¥", desc:"TatlÄ± ve sulu kivi - kg baÅŸÄ±na", price:20},
    {id:8, emoji:"ðŸ¥¬", name:"Marul ðŸ¥¬", desc:"Taze marul yapraklarÄ±", price:10},
    {id:9, emoji:"ðŸˆ", name:"Kavun ðŸˆ", desc:"TatlÄ± kavun, mevsim Ã¼rÃ¼nÃ¼", price:18},
  ];

  // LocalStorage sepet anahtarÄ±
  const CART_KEY = 'myGreenShopCart';

  // KullanÄ±cÄ± bilgileri simÃ¼lasyonu
  let user = {
    username: null,
    email: null,
    phone: null,
    loggedIn: false
  };

  // DOM elementler
  const productsContainer = document.getElementById('productsContainer');
  const profileBtn = document.getElementById('profileBtn');
  const cartBtn = document.getElementById('cartBtn');
  const loginBtn = document.getElementById('loginBtn');

  const profileDropdown = document.getElementById('profileDropdown');
  const cartDropdown = document.getElementById('cartDropdown');
  const loginDropdown = document.getElementById('loginDropdown');

  const usernameDisplay = document.getElementById('usernameDisplay');
  const profileUsername = document.getElementById('profileUsername');
  const profileEmail = document.getElementById('profileEmail');
  const profilePhone = document.getElementById('profilePhone');
  const logoutBtn = document.getElementById('logoutBtn');

  const loginUsername = document.getElementById('loginUsername');
  const loginEmail = document.getElementById('loginEmail');
  const loginPhone = document.getElementById('loginPhone');
  const loginSubmitBtn = document.getElementById('loginSubmitBtn');

  const cartCount = document.getElementById('cartCount');
  const cartItemsContainer = document.getElementById('cartItemsContainer');
  const cartTotal = document.getElementById('cartTotal');
  const checkoutBtn = document.getElementById('checkoutBtn');

  const chatbotToggle = document.getElementById
const chatbotToggle = document.getElementById('chatbotToggle');
  const chatbotWindow = document.getElementById('chatbotWindow');
  const chatbotCloseBtn = document.getElementById('chatbotCloseBtn');
  const chatbotMessages = document.getElementById('chatbotMessages');
  const chatbotInput = document.getElementById('chatbotInput');
  const chatbotSendBtn = document.getElementById('chatbotSendBtn');

  // Sepet verisini localStorage'dan al veya boÅŸ dizi ata
  let cart = JSON.parse(localStorage.getItem(CART_KEY)) || [];

  // ÃœrÃ¼nleri sayfaya yazdÄ±r
  function renderProducts() {
    productsContainer.innerHTML = '';
    products.forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <div class="product-emoji">${p.emoji}</div>
        <div class="product-name">${p.name}</div>
        <div class="product-desc">${p.desc} - <strong>${p.price}â‚º</strong></div>
        <button class="add-cart-btn" data-id="${p.id}">Sepete Ekle</button>
      `;
      productsContainer.appendChild(card);
    });
  }

  // Sepet sayÄ±sÄ±nÄ± gÃ¼ncelle
  function updateCartCount() {
    const totalCount = cart.reduce((sum, item) => sum + item.qty, 0);
    cartCount.textContent = totalCount;
  }

  // Sepeti sayfada gÃ¶ster
  function renderCart() {
    cartItemsContainer.innerHTML = '';
    if (cart.length === 0) {
      cartItemsContainer.innerHTML = '<p>Sepetiniz boÅŸ.</p>';
      cartTotal.textContent = 'Toplam: 0 â‚º';
      return;
    }
    let totalPrice = 0;
    cart.forEach(item => {
      const product = products.find(p => p.id === item.id);
      if (!product) return;
      const itemTotal = product.price * item.qty;
      totalPrice += itemTotal;

      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <div class="cart-item-name">${product.name}</div>
        <div class="cart-item-qty">
          <button class="qty-btn" data-id="${item.id}" data-action="dec">-</button>
          <span>${item.qty}</span>
          <button class="qty-btn" data-id="${item.id}" data-action="inc">+</button>
        </div>
        <div class="cart-item-price">${itemTotal}â‚º</div>
      `;
      cartItemsContainer.appendChild(div);
    });
    cartTotal.textContent = `Toplam: ${totalPrice} â‚º`;
  }

  // Sepeti localStorage'a kaydet
  function saveCart() {
    localStorage.setItem(CART_KEY, JSON.stringify(cart));
  }

  // Sepete Ã¼rÃ¼n ekle
  function addToCart(productId) {
    const found = cart.find(item => item.id === productId);
    if (found) {
      found.qty++;
    } else {
      cart.push({id: productId, qty: 1});
    }
    saveCart();
    updateCartCount();
    renderCart();
  }

  // Sepet miktarÄ±nÄ± deÄŸiÅŸtir
  function changeCartQty(productId, action) {
    const item = cart.find(i => i.id === productId);
    if (!item) return;
    if (action === 'inc') {
      item.qty++;
    } else if (action === 'dec') {
      item.qty--;
      if (item.qty < 1) {
        cart = cart.filter(i => i.id !== productId);
      }
    }
    saveCart();
    updateCartCount();
    renderCart();
  }

  // KullanÄ±cÄ± giriÅŸ yapmÄ±ÅŸ mÄ±?
  function updateUserUI() {
    if (user.loggedIn) {
      usernameDisplay.textContent = user.username;
      profileUsername.textContent = user.username;
      profileEmail.textContent = user.email || '-';
      profilePhone.textContent = user.phone || '-';
      profileBtn.style.display = 'flex';
      loginBtn.style.display = 'none';
    } else {
      usernameDisplay.textContent = 'Misafir';
      profileUsername.textContent = 'Misafir';
      profileEmail.textContent = '-';
      profilePhone.textContent = '-';
      profileBtn.style.display = 'none';
      loginBtn.style.display = 'inline-flex';
      // DropdownlarÄ± kapat
      profileDropdown.style.display = 'none';
    }
  }

  // DropdownlarÄ± kapat
  function closeAllDropdowns() {
    profileDropdown.style.display = 'none';
    cartDropdown.style.display = 'none';
    loginDropdown.style.display = 'none';
  }

  // Event Listeners

  // ÃœrÃ¼n sepete ekle butonlarÄ±
  productsContainer.addEventListener('click', e => {
    if (e.target.classList.contains('add-cart-btn')) {
      const id = parseInt(e.target.getAttribute('data-id'));
      addToCart(id);
      // Sepet aÃ§Ä±lÄ±r
      cartDropdown.style.display = 'flex';
      profileDropdown.style.display = 'none';
      loginDropdown.style.display = 'none';
    }
  });

  // MenÃ¼ butonlarÄ±
  profileBtn.addEventListener('click', () => {
    if (profileDropdown.style.display === 'block' || profileDropdown.style.display === 'flex') {
      profileDropdown.style.display = 'none';
    } else {
      profileDropdown.style.display = 'block';
      cartDropdown.style.display = 'none';
      loginDropdown.style.display = 'none';
    }
  });

  cartBtn.addEventListener('click', () => {
    if (cartDropdown.style.display === 'flex') {
      cartDropdown.style.display = 'none';
    } else {
      cartDropdown.style.display = 'flex';
      profileDropdown.style.display = 'none';
      loginDropdown.style.display = 'none';
    }
  });

  loginBtn.addEventListener('click', () => {
    if (loginDropdown.style.display === 'block') {
      loginDropdown.style.display = 'none';
    } else {
      loginDropdown.style.display = 'block';
      profileDropdown.style.display = 'none';
      cartDropdown.style.display = 'none';
    }
  });

  // Sepet miktar arttÄ±r-azalt
  cartItemsContainer.addEventListener('click', e => {
    if (e.target.classList.contains('qty-btn')) {
      const id = parseInt(e.target.getAttribute('data-id'));
      const action = e.target.getAttribute('data-action');
      changeCartQty(id, action);
    }
  });

  // Checkout (Ã–deme YÃ¶ntemine GeÃ§)
  checkoutBtn.addEventListener('click', () => {
    if (cart.length === 0) {
      alert('Sepetiniz boÅŸ!');
      return;
    }
    // Whatsapp sohbetini aÃ§: telefon numarasÄ± + mesajla
    const phone = '905426354386'; // Telefon numaran (0542 635 43 86) => uluslararasÄ± format 90 ile
    // Sepet detaylarÄ±nÄ± mesaj olarak gÃ¶nderelim
    let message = 'Merhaba, aÅŸaÄŸÄ±daki Ã¼rÃ¼nleri satÄ±n almak istiyorum:%0A';
    cart.forEach(item => {
      const prod = products.find(p => p.id === item.id);
      if (prod) {
        message += `- ${prod.name} x${item.qty} (${prod.price * item.qty}â‚º)%0A`;
      }
    });
    const total = cart.reduce((sum, i) => {
      const prod = products.find(p => p.id === i.id);
      return prod ? sum + prod.price * i.qty : sum;
    }, 0);
    message += `Toplam: ${total}â‚º`;
    const url = `https://wa.me/${phone}?text=${message}`;
    window.open(url, '_blank');
  });

  // GiriÅŸ / KayÄ±t iÅŸlemi (basit simÃ¼lasyon)
  loginSubmitBtn.addEventListener('click', () => {
    const usernameVal = loginUsername.value.trim();
    const emailVal = loginEmail.value.trim();
    const phoneVal = loginPhone.value.trim();
    if (!usernameVal || !emailVal || !phoneVal) {
      alert('LÃ¼tfen tÃ¼m alanlarÄ± doldurun.');
      return;
    }
    user = {
      username: usernameVal,
      email: emailVal,
      phone: phoneVal,
      loggedIn: true
    };
    updateUserUI();
    loginDropdown.style.display = 'none';
    loginUsername.value = '';
    loginEmail.value = '';
    loginPhone.value = '';
    alert('BaÅŸarÄ±yla giriÅŸ yapÄ±ldÄ±!');
  });

  // Ã‡Ä±kÄ±ÅŸ yap
  logoutBtn.addEventListener('click', () => {
    user = {
      username: null,
      email: null,
      phone: null,
      loggedIn: false
    };
    updateUserUI();
    profileDropdown.style.display = 'none';
    alert('Ã‡Ä±kÄ±ÅŸ yapÄ±ldÄ±.');
  });

  // Sayfa dÄ±ÅŸÄ± tÄ±klamada dropdown kapatma
  document.addEventListener('click', (e) => {
    if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target) &&
        !cartBtn.contains(e.target) && !cartDropdown.contains(e.target) &&
        !loginBtn.contains(e.target) && !loginDropdown.contains(e.target)) {
      closeAllDropdowns();
    }
  });

  // Chatbot aÃ§/kapa
  chatbotToggle.addEventListener('click', () => {
    if (chatbotWindow.style.display === 'flex') {
      chatbotWindow.style.display = 'none';
    } else {
      chatbotWindow.style.display = 'flex';
      chatbotInput.focus();
    }
  });
  chatbotCloseBtn.addEventListener('click', () => {
    chatbotWindow.style.display = 'none';
  });

  // Chatbot mesaj ekle
  function addChatbot
 // Chatbot mesaj ekle
  function addChatbotMessage(text, sender = 'bot') {
    const msgDiv = document.createElement('div');
    msgDiv.className = `chatbotMessage ${sender}`;
    msgDiv.textContent = text;
    chatbotMessages.appendChild(msgDiv);
    chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
  }

  // KullanÄ±cÄ± mesajÄ±nÄ± chatbot ekranÄ±na ekle ve cevapla
  function handleUserMessage() {
    const text = chatbotInput.value.trim();
    if (!text) return;
    addChatbotMessage(text, 'user');
    chatbotInput.value = '';
    // Basit cevap simÃ¼lasyonu, burada gerÃ§ek API entegrasyonu yapÄ±labilir
    setTimeout(() => {
      const reply = generateBotReply(text);
      addChatbotMessage(reply, 'bot');
    }, 800);
  }

  // Basit bot cevap fonksiyonu (daha geliÅŸmiÅŸ yapay zeka iÃ§in API kullanÄ±labilir)
  function generateBotReply(input) {
    input = input.toLowerCase();
    if (input.includes('merhaba') || input.includes('selam')) {
      return 'Merhaba! Size nasÄ±l yardÄ±mcÄ± olabilirim?';
    } else if (input.includes('Ã¼rÃ¼n') || input.includes('sepet')) {
      return 'ÃœrÃ¼nlerimiz hakkÄ±nda bilgi almak veya sepetinizi gÃ¶rmek iÃ§in menÃ¼yÃ¼ kullanabilirsiniz.';
    } else if (input.includes('teÅŸekkÃ¼r')) {
      return 'Rica ederim! BaÅŸka sorunuz olursa yazabilirsiniz.';
    } else {
      return 'ÃœzgÃ¼nÃ¼m, bunu anlayamadÄ±m. LÃ¼tfen baÅŸka bir ÅŸey sorar mÄ±sÄ±nÄ±z?';
    }
  }

  // Chatbot gÃ¶nder butonu ve Enter ile mesaj gÃ¶nderimi
  chatbotSendBtn.addEventListener('click', handleUserMessage);
  chatbotInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      e.preventDefault();
      handleUserMessage();
    }
  });

  // Sayfa yÃ¼klendiÄŸinde
  window.addEventListener('load', () => {
    renderProducts();
    updateCartCount();
    renderCart();
    updateUserUI();
    chatbotWindow.style.display = 'none'; // BaÅŸlangÄ±Ã§ta gizli
  });
</script>

</body>
</html>